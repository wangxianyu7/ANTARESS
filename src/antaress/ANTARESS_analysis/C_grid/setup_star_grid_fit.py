from setuptools import setup,Extensionimport osimport sysimport numpyimport platformimport subprocess#Run "python setup_star_grid_fit.py build"#Then copy the compiled file "C_star_grid.cpython-311-darwin.so" into your C_grid/ directory as "C_star_grid.so"proc_name = platform.processor() #For new Macs with arm64if proc_name in ['arm64','x86_64']:    gsl_include_dir = ['/opt/homebrew/Cellar/gsl/2.8/include/']    gsl_lib_dir = ['/opt/homebrew/cellar/gsl/2.8/lib/']else:    gsl_include_dir = ['/usr/local/include/']    gsl_lib_dir = ['/usr/local/lib/']macosx_python_include_dir = ['/Users/samsonmercier/anaconda3/envs/antaress/bin/python/site-packages/numpy/core/include/numpy/']try:    # Check if libcerf is installed using brew list    brew_list_output = subprocess.check_output(["brew", "list"]).decode("utf-8")    if "libcerf" not in brew_list_output:        print("libcerf not found. Installing with Homebrew...")        subprocess.run(["brew", "install", "libcerf"], check=True)        print("libcerf installed successfully.")    else:        print("libcerf is already installed.")    libcerf_path = subprocess.check_output(["brew", "--prefix", "libcerf"]).decode("utf-8").strip()    libcerf_include_dir = [os.path.join(libcerf_path, 'include')]    libcerf_lib_dir = [os.path.join(libcerf_path, 'lib')]except subprocess.CalledProcessError as e:    print(f"Error: {e}")    sys.exit(1)module1 = Extension(    'C_star_grid',    include_dirs=macosx_python_include_dir + gsl_include_dir + libcerf_include_dir,    library_dirs=gsl_lib_dir + libcerf_lib_dir,    runtime_library_dirs=libcerf_lib_dir, #Add this line    libraries=['gsl', 'gslcblas', 'cerf'],    sources=['C_star_grid.c'])setup(name = 'Co-add stellar grid of profiles',        version = '1.0',        description = '',        ext_modules = [module1])